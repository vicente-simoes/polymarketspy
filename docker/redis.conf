# Redis configuration for Polymarket Copybot
# BullMQ requires persistent storage and noeviction policy

# Persistence - AOF for durability
appendonly yes
appendfsync everysec

# Memory policy - never evict keys (BullMQ requirement)
# Jobs must not be evicted; rely on BullMQ's own job cleanup
maxmemory-policy noeviction

# Memory limit (adjust based on droplet size - $12 droplet has 1GB RAM)
# Leave room for other services
maxmemory 256mb

# Security - require password (set via command line or env)
# Password is passed via Redis URL in docker-compose

# Disable dangerous commands in production
rename-command FLUSHDB ""
rename-command FLUSHALL ""
rename-command DEBUG ""

# Logging
loglevel notice

# TCP keepalive
tcp-keepalive 300

# Connection limits
maxclients 100
